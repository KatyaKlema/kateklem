{"ast":null,"code":"import { getParams, findLookUpValue } from \"../utils\";\n\nconst adaptTable = (review, units, functions, roles) => {\n  const itemFields = review.fields;\n  return {\n    id: review.id,\n    unit: itemFields[\"Team\"],\n    roleAndFunc: findLookUpValue(functions, itemFields[\"Role and Function\"], \"Role_function\"),\n    role: itemFields[\"Role\"],\n    objective: itemFields[\"Objective\"],\n    keyResults: itemFields[\"Key Results\"]\n  };\n};\n\nconst adaptDataToRaw = (data, functions) => {\n  return data.map(item => {\n    return {\n      id: item.id,\n      fields: {\n        Team: item.unit,\n        Objective: item.objective,\n        \"Key Results\": item.keyResults,\n        Role: item.role\n      }\n    };\n  });\n};\n\nconst getTableStructure = roles => {\n  return [{\n    title: \"Unit\",\n    field: \"unit\",\n    editor: \"input\",\n    formatter: \"textarea\",\n    width: 300\n  }, {\n    title: \"Objective\",\n    field: \"objective\",\n    editor: \"input\",\n    formatter: \"textarea\",\n    width: 500\n  }, {\n    title: \"Key Results\",\n    field: \"keyResults\",\n    editor: \"input\",\n    formatter: \"textarea\",\n    width: 500,\n    sorter: \"number\"\n  }, {\n    title: \"Role\",\n    field: \"role\",\n    editor: \"select\",\n    width: 300,\n    editorParams: {\n      values: getParams(roles, \"Role\")\n    }\n  }];\n};\n\nconst emptyRow = {\n  id: undefined,\n  unit: undefined,\n  role: undefined,\n  objective: undefined,\n  keyResults: undefined\n};\nexport { getTableStructure, emptyRow, getParams, adaptTable, adaptDataToRaw };","map":{"version":3,"sources":["/Users/ekaterina/Desktop/latoken/03.08.2020/operations-platform/client/src/tables/okr.js"],"names":["getParams","findLookUpValue","adaptTable","review","units","functions","roles","itemFields","fields","id","unit","roleAndFunc","role","objective","keyResults","adaptDataToRaw","data","map","item","Team","Objective","Role","getTableStructure","title","field","editor","formatter","width","sorter","editorParams","values","emptyRow","undefined"],"mappings":"AACA,SAASA,SAAT,EAAoBC,eAApB,QAA2C,UAA3C;;AAEA,MAAMC,UAAU,GAAG,CAACC,MAAD,EAASC,KAAT,EAAgBC,SAAhB,EAA2BC,KAA3B,KAAqC;AACvD,QAAMC,UAAU,GAAGJ,MAAM,CAACK,MAA1B;AACA,SAAO;AACNC,IAAAA,EAAE,EAAEN,MAAM,CAACM,EADL;AAENC,IAAAA,IAAI,EAAEH,UAAU,CAAC,MAAD,CAFV;AAGNI,IAAAA,WAAW,EAAEV,eAAe,CAC3BI,SAD2B,EAE3BE,UAAU,CAAC,mBAAD,CAFiB,EAG3B,eAH2B,CAHtB;AAQNK,IAAAA,IAAI,EAAEL,UAAU,CAAC,MAAD,CARV;AASNM,IAAAA,SAAS,EAAEN,UAAU,CAAC,WAAD,CATf;AAUNO,IAAAA,UAAU,EAAEP,UAAU,CAAC,aAAD;AAVhB,GAAP;AAYA,CAdD;;AAgBA,MAAMQ,cAAc,GAAG,CAACC,IAAD,EAAOX,SAAP,KAAqB;AAC3C,SAAOW,IAAI,CAACC,GAAL,CAAUC,IAAD,IAAU;AACzB,WAAO;AACNT,MAAAA,EAAE,EAAES,IAAI,CAACT,EADH;AAEND,MAAAA,MAAM,EAAE;AACPW,QAAAA,IAAI,EAAED,IAAI,CAACR,IADJ;AAEPU,QAAAA,SAAS,EAAEF,IAAI,CAACL,SAFT;AAGP,uBAAeK,IAAI,CAACJ,UAHb;AAIPO,QAAAA,IAAI,EAAEH,IAAI,CAACN;AAJJ;AAFF,KAAP;AASA,GAVM,CAAP;AAWA,CAZD;;AAcA,MAAMU,iBAAiB,GAAIhB,KAAD,IAAW;AACpC,SAAO,CACN;AACCiB,IAAAA,KAAK,EAAE,MADR;AAECC,IAAAA,KAAK,EAAE,MAFR;AAGCC,IAAAA,MAAM,EAAE,OAHT;AAICC,IAAAA,SAAS,EAAE,UAJZ;AAKCC,IAAAA,KAAK,EAAE;AALR,GADM,EAQN;AACCJ,IAAAA,KAAK,EAAE,WADR;AAECC,IAAAA,KAAK,EAAE,WAFR;AAGCC,IAAAA,MAAM,EAAE,OAHT;AAICC,IAAAA,SAAS,EAAE,UAJZ;AAKCC,IAAAA,KAAK,EAAE;AALR,GARM,EAeN;AACCJ,IAAAA,KAAK,EAAE,aADR;AAECC,IAAAA,KAAK,EAAE,YAFR;AAGCC,IAAAA,MAAM,EAAE,OAHT;AAICC,IAAAA,SAAS,EAAE,UAJZ;AAKCC,IAAAA,KAAK,EAAE,GALR;AAMCC,IAAAA,MAAM,EAAE;AANT,GAfM,EAuBN;AACCL,IAAAA,KAAK,EAAE,MADR;AAECC,IAAAA,KAAK,EAAE,MAFR;AAGCC,IAAAA,MAAM,EAAE,QAHT;AAICE,IAAAA,KAAK,EAAE,GAJR;AAKCE,IAAAA,YAAY,EAAE;AAAEC,MAAAA,MAAM,EAAE9B,SAAS,CAACM,KAAD,EAAQ,MAAR;AAAnB;AALf,GAvBM,CAAP;AA+BA,CAhCD;;AAkCA,MAAMyB,QAAQ,GAAG;AAChBtB,EAAAA,EAAE,EAAEuB,SADY;AAEhBtB,EAAAA,IAAI,EAAEsB,SAFU;AAGhBpB,EAAAA,IAAI,EAAEoB,SAHU;AAIhBnB,EAAAA,SAAS,EAAEmB,SAJK;AAKhBlB,EAAAA,UAAU,EAAEkB;AALI,CAAjB;AAQA,SAASV,iBAAT,EAA4BS,QAA5B,EAAsC/B,SAAtC,EAAiDE,UAAjD,EAA6Da,cAA7D","sourcesContent":["\nimport { getParams, findLookUpValue } from \"../utils\";\n\nconst adaptTable = (review, units, functions, roles) => {\n\tconst itemFields = review.fields;\n\treturn {\n\t\tid: review.id,\n\t\tunit: itemFields[\"Team\"],\n\t\troleAndFunc: findLookUpValue(\n\t\t\tfunctions,\n\t\t\titemFields[\"Role and Function\"],\n\t\t\t\"Role_function\"\n\t\t),\n\t\trole: itemFields[\"Role\"],\n\t\tobjective: itemFields[\"Objective\"],\n\t\tkeyResults: itemFields[\"Key Results\"],\n\t};\n};\n\nconst adaptDataToRaw = (data, functions) => {\n\treturn data.map((item) => {\n\t\treturn {\n\t\t\tid: item.id,\n\t\t\tfields: {\n\t\t\t\tTeam: item.unit,\n\t\t\t\tObjective: item.objective,\n\t\t\t\t\"Key Results\": item.keyResults,\n\t\t\t\tRole: item.role,\n\t\t\t},\n\t\t};\n\t});\n};\n\nconst getTableStructure = (roles) => {\n\treturn [\n\t\t{\n\t\t\ttitle: \"Unit\",\n\t\t\tfield: \"unit\",\n\t\t\teditor: \"input\",\n\t\t\tformatter: \"textarea\",\n\t\t\twidth: 300,\n\t\t},\n\t\t{\n\t\t\ttitle: \"Objective\",\n\t\t\tfield: \"objective\",\n\t\t\teditor: \"input\",\n\t\t\tformatter: \"textarea\",\n\t\t\twidth: 500,\n\t\t},\n\t\t{\n\t\t\ttitle: \"Key Results\",\n\t\t\tfield: \"keyResults\",\n\t\t\teditor: \"input\",\n\t\t\tformatter: \"textarea\",\n\t\t\twidth: 500,\n\t\t\tsorter: \"number\",\n\t\t},\n\t\t{\n\t\t\ttitle: \"Role\",\n\t\t\tfield: \"role\",\n\t\t\teditor: \"select\",\n\t\t\twidth: 300,\n\t\t\teditorParams: { values: getParams(roles, \"Role\") },\n\t\t},\n\t];\n};\n\nconst emptyRow = {\n\tid: undefined,\n\tunit: undefined,\n\trole: undefined,\n\tobjective: undefined,\n\tkeyResults: undefined,\n};\n\nexport { getTableStructure, emptyRow, getParams, adaptTable, adaptDataToRaw };\n"]},"metadata":{},"sourceType":"module"}