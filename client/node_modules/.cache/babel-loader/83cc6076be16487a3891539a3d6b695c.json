{"ast":null,"code":"import { extend } from \"../../utils.js\";\nconst initialState = {\n  user: null\n};\nconst actionType = {\n  SET_USER: `SET_USER`\n};\nconst actionCreator = {\n  setUser: user => ({\n    type: actionType.SET_USER,\n    payload: user\n  })\n};\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case actionType.SET_USER:\n      return extend(state, {\n        user: action.payload\n      });\n\n    default:\n      return state;\n  }\n};\n\nconst Operation = {\n  googleAuth: () => (dispatch, getState, api) => {\n    return api.get(`/auth/google`, {\n      headers: {\n        'Access-Control-Allow-Origin': '*',\n        \"Access-Control-Allow-Headers\": \"Origin, X-Requested-With, Content-Type, Accept\"\n      }\n    });\n  },\n  checkAuth: () => (dispatch, getState, api) => {\n    return api.get(`/checkUser`).then(response => {\n      dispatch(actionCreator.setUser(response.data));\n    });\n  },\n  logout: () => (dispatch, getState, api) => {\n    return api.get(`/logout`).then(response => {\n      console.log(response.data);\n      dispatch(actionCreator.setUser(null));\n    });\n  }\n};\nexport { reducer, actionType, actionCreator, Operation };","map":{"version":3,"sources":["/Users/ekaterina/Desktop/latoken/03.08.2020/operations-platform/client/src/reducer/user/user.js"],"names":["extend","initialState","user","actionType","SET_USER","actionCreator","setUser","type","payload","reducer","state","action","Operation","googleAuth","dispatch","getState","api","get","headers","checkAuth","then","response","data","logout","console","log"],"mappings":"AACA,SAAQA,MAAR,QAAqB,gBAArB;AAGA,MAAMC,YAAY,GAAG;AACjBC,EAAAA,IAAI,EAAE;AADW,CAArB;AAIA,MAAMC,UAAU,GAAG;AACfC,EAAAA,QAAQ,EAAG;AADI,CAAnB;AAIA,MAAMC,aAAa,GAAG;AAClBC,EAAAA,OAAO,EAAGJ,IAAD,KAAW;AAChBK,IAAAA,IAAI,EAAEJ,UAAU,CAACC,QADD;AAEhBI,IAAAA,OAAO,EAAEN;AAFO,GAAX;AADS,CAAtB;;AAQA,MAAMO,OAAO,GAAG,CAACC,KAAK,GAAGT,YAAT,EAAuBU,MAAvB,KAAkC;AAC9C,UAAQA,MAAM,CAACJ,IAAf;AACI,SAAKJ,UAAU,CAACC,QAAhB;AACI,aAAOJ,MAAM,CAACU,KAAD,EAAQ;AAACR,QAAAA,IAAI,EAAES,MAAM,CAACH;AAAd,OAAR,CAAb;;AACJ;AACA,aAAOE,KAAP;AAJJ;AAMH,CAPD;;AASA,MAAME,SAAS,GAAG;AAEdC,EAAAA,UAAU,EAAE,MAAM,CAACC,QAAD,EAAWC,QAAX,EAAqBC,GAArB,KAA6B;AAC3C,WAAOA,GAAG,CAACC,GAAJ,CAAS,cAAT,EAAwB;AAC3BC,MAAAA,OAAO,EAAE;AACL,uCAA+B,GAD1B;AAEL,wCAAgC;AAF3B;AADkB,KAAxB,CAAP;AAMD,GATW;AAWdC,EAAAA,SAAS,EAAE,MAAM,CAACL,QAAD,EAAWC,QAAX,EAAqBC,GAArB,KAA6B;AAC5C,WAAOA,GAAG,CAACC,GAAJ,CAAS,YAAT,EACJG,IADI,CACEC,QAAD,IAAY;AACdP,MAAAA,QAAQ,CAACT,aAAa,CAACC,OAAd,CAAsBe,QAAQ,CAACC,IAA/B,CAAD,CAAR;AACH,KAHI,CAAP;AAID,GAhBa;AAkBdC,EAAAA,MAAM,EAAE,MAAM,CAACT,QAAD,EAAWC,QAAX,EAAqBC,GAArB,KAA6B;AACvC,WAAOA,GAAG,CAACC,GAAJ,CAAS,SAAT,EACJG,IADI,CACEC,QAAD,IAAY;AACdG,MAAAA,OAAO,CAACC,GAAR,CAAYJ,QAAQ,CAACC,IAArB;AACAR,MAAAA,QAAQ,CAACT,aAAa,CAACC,OAAd,CAAsB,IAAtB,CAAD,CAAR;AACH,KAJI,CAAP;AAKD;AAxBW,CAAlB;AA4BA,SAAQG,OAAR,EAAiBN,UAAjB,EAA6BE,aAA7B,EAA4CO,SAA5C","sourcesContent":["\nimport {extend} from \"../../utils.js\";\n\n  \nconst initialState = {\n    user: null,\n};\n\nconst actionType = {\n    SET_USER: `SET_USER`,\n};\n\nconst actionCreator = {\n    setUser: (user) => ({\n        type: actionType.SET_USER,\n        payload: user\n    }),\n};\n\n\nconst reducer = (state = initialState, action) => {\n    switch (action.type) {\n        case actionType.SET_USER:\n            return extend(state, {user: action.payload});\n        default:\n        return state;\n    }\n};\n\nconst Operation = {\n\n    googleAuth: () => (dispatch, getState, api) => {\n        return api.get(`/auth/google`, {\n            headers: {\n                'Access-Control-Allow-Origin': '*',\n                \"Access-Control-Allow-Headers\": \"Origin, X-Requested-With, Content-Type, Accept\"\n              }\n        });\n      },\n\n    checkAuth: () => (dispatch, getState, api) => {\n      return api.get(`/checkUser`)\n        .then((response)=>{\n            dispatch(actionCreator.setUser(response.data));\n        })\n    },\n\n    logout: () => (dispatch, getState, api) => {\n        return api.get(`/logout`)\n          .then((response)=>{\n              console.log(response.data);\n              dispatch(actionCreator.setUser(null));\n          })\n      },\n    \n};\n  \nexport {reducer, actionType, actionCreator, Operation};\n"]},"metadata":{},"sourceType":"module"}